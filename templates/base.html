<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}KeystoneBid - Pennsylvania Antique Hunting License Marketplace{% endblock %}</title>

    {% load static %}
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/variables.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/components.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/home.css' %}">

    {% block extra_css %}{% endblock %}
</head>
<body>
    <nav class="site-nav">
        <div class="container nav-inner">
            <div class="brand-wrap">
                <a href="{% url 'home' %}" class="brand-name">KeystoneBid</a>
                <span class="brand-tagline">Pennsylvania Hunting Heritage</span>
            </div>
            <div class="nav-links">
                <a href="{% url 'listings:auction_house' %}">Auction House</a>
                <a href="{% url 'listings:general_store' %}">General Store</a>
                <a href="{% url 'listings:trading_block' %}">Trading Block</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'listings:create' %}">Create Listing</a>
                    <a href="{% url 'collections:my_collection' %}">My Collection</a>
                    <a href="{% url 'orders:my_orders' %}">My Orders</a>
                    <a href="{% url 'notifications:center' %}">
                        Bell{% if nav_unread_notifications_count %} ({{ nav_unread_notifications_count }}){% endif %}
                    </a>
                    <a href="{% url 'accounts:dashboard' %}">Dashboard</a>
                    <a href="{% url 'accounts:profile' user.username %}">Profile</a>
                    <a href="{% url 'accounts:logout' %}">Logout</a>
                {% else %}
                    <a href="{% url 'accounts:login' %}">Login</a>
                    <a href="{% url 'accounts:register' %}">Register</a>
                {% endif %}
            </div>
        </div>
    </nav>

    {% if messages %}
        <div class="container message-stack">
            {% for message in messages %}
                <div role="alert" class="alert {% if message.tags == 'error' %}alert-error{% elif message.tags == 'success' %}alert-success{% elif message.tags == 'warning' %}alert-warning{% else %}alert-info{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <main class="container page-main">
        {% block content %}{% endblock %}
    </main>

    <footer class="site-footer">
        <div class="container footer-inner">
            <p class="footer-brand">KeystoneBid</p>
            <p>Preserving Pennsylvania's Hunting Heritage</p>
            <p class="footer-copy">&copy; {% now "Y" %} KeystoneBid. All rights reserved.</p>
        </div>
    </footer>

    <script src="{% static 'js/custom.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
